!function(){var e={184:function(e,t){var a;!function(){"use strict";var l={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a)){if(a.length){var r=i.apply(null,a);r&&e.push(r)}}else if("object"===n){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var o in a)l.call(a,o)&&a[o]&&e.push(o)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(a=function(){return i}.apply(t,[]))||(e.exports=a)}()},84:function(e){"use strict";var t=function e(t){return t.endsWith("/")||t.endsWith("\\")?e(t.slice(0,-1)):t},a=function(e){return t(e)+"/"};e.exports=a,e.exports.trailingSlashIt=a,e.exports.unTrailingSlashIt=t}},t={};function a(l){var i=t[l];if(void 0!==i)return i.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,a),n.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};a.r(e),a.d(e,{name:function(){return R},settings:function(){return W}});var t={};a.r(t),a.d(t,{name:function(){return V},settings:function(){return $}});var l={};a.r(l),a.d(l,{name:function(){return Y},settings:function(){return G}});var i={};a.r(i),a.d(i,{name:function(){return J},settings:function(){return X}});var n={};a.r(n),a.d(n,{name:function(){return ae},settings:function(){return le}});var r={};a.r(r),a.d(r,{name:function(){return ne},settings:function(){return re}});var o={};a.r(o),a.d(o,{name:function(){return oe},settings:function(){return se}});var s={};a.r(s),a.d(s,{name:function(){return de},settings:function(){return ue}});var f={};a.r(f),a.d(f,{name:function(){return he},settings:function(){return be}});var c={};a.r(c),a.d(c,{name:function(){return ge},settings:function(){return Ee}});var p={};a.r(p),a.d(p,{name:function(){return ye},settings:function(){return ve}});var d={};a.r(d),a.d(d,{name:function(){return Ce},settings:function(){return Ae}});var u={};a.r(u),a.d(u,{name:function(){return Be},settings:function(){return Te}});var m={};a.r(m),a.d(m,{name:function(){return Se},settings:function(){return Fe}});var w={};a.r(w),a.d(w,{name:function(){return We},settings:function(){return Me}});var _={};a.r(_),a.d(_,{name:function(){return Ue},settings:function(){return Oe}});var h={};a.r(h),a.d(h,{name:function(){return He},settings:function(){return Ve}});var b={};a.r(b),a.d(b,{name:function(){return ze},settings:function(){return Ze}});var g={};a.r(g),a.d(g,{name:function(){return Qe},settings:function(){return Ye}});var E={};a.r(E),a.d(E,{name:function(){return Je},settings:function(){return Xe}});var k={};a.r(k),a.d(k,{name:function(){return tt},settings:function(){return at}});var y={};a.r(y),a.d(y,{name:function(){return it},settings:function(){return st}});var v={};a.r(v),a.d(v,{name:function(){return mt},settings:function(){return _t}});var x={};a.r(x),a.d(x,{name:function(){return bt},settings:function(){return Et}});var C={};a.r(C),a.d(C,{name:function(){return yt},settings:function(){return xt}});var A=window.wp.blocks,L=window.React,N=window.wp.components,B=({color:e})=>{const t=e?"#E34F43":"";return(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},(0,L.createElement)("path",{d:"M19.3657 14.051C19.1474 14.051 18.9334 14.0722 18.7215 14.1019L15.668 8.60516C16.3419 7.79993 16.7487 6.76373 16.7487 5.63429C16.7508 3.07876 14.6721 1 12.1165 1C9.56101 1 7.48013 3.07876 7.48013 5.63429C7.48013 6.74254 7.87215 7.75967 8.52269 8.55642L5.33993 14.1104C5.10895 14.0743 4.87586 14.051 4.63429 14.051C2.07876 14.051 0 16.1298 0 18.6853C0 21.2409 2.07876 23.3196 4.63429 23.3196C7.18983 23.3196 9.26859 21.2409 9.26859 18.6853C9.26859 17.5771 8.87657 16.5599 8.22603 15.7632L11.4088 10.2114C11.6398 10.2474 11.8729 10.2707 12.1144 10.2707C12.3327 10.2707 12.5467 10.2495 12.7586 10.2198L15.8121 15.7145C15.1383 16.5197 14.7314 17.5559 14.7314 18.6853C14.7314 21.2409 16.8102 23.3196 19.3657 23.3196C21.9212 23.3196 24 21.2409 24 18.6853C24 16.1298 21.9212 14.051 19.3657 14.051ZM12.1165 4.04715C12.9917 4.04715 13.7037 4.75914 13.7037 5.63429C13.7037 6.50945 12.9917 7.22144 12.1165 7.22144C11.2414 7.22144 10.5294 6.50945 10.5294 5.63429C10.5294 4.75914 11.2414 4.04715 12.1165 4.04715ZM4.63429 20.2725C3.75914 20.2725 3.04715 19.5605 3.04715 18.6853C3.04715 17.8102 3.75914 17.0982 4.63429 17.0982C5.50945 17.0982 6.22144 17.8102 6.22144 18.6853C6.22144 19.5605 5.50945 20.2725 4.63429 20.2725ZM19.3657 20.2725C18.4906 20.2725 17.7786 19.5605 17.7786 18.6853C17.7786 17.8102 18.4906 17.0982 19.3657 17.0982C20.2409 17.0982 20.9529 17.8102 20.9529 18.6853C20.9529 19.5605 20.2409 20.2725 19.3657 20.2725Z",fill:t}))})},T=a(184),I=a.n(T),S=window.wp.i18n,F=window.wp.blockEditor;const q=["affiliatewp/registration","affiliatewp/login","wpforms/form-selector"],P=[["affiliatewp/registration"],["affiliatewp/login"]];const R="affiliatewp/affiliate-area",W={title:(0,S.__)("Affiliate Area","affiliate-wp"),description:(0,S.__)("Displays the affiliate registration and login forms to a logged out user. A logged-in user will see the Affiliate Area instead of these forms.","affiliate-wp"),keywords:[(0,S.__)("Affiliate Area","affiliate-wp"),(0,S.__)("Area","affiliate-wp"),(0,S.__)("Dashboard","affiliate-wp")],category:"affiliatewp",icon:B,supports:{html:!1},edit:function(){const e=(F.useInnerBlocksProps?F.useInnerBlocksProps:F.__experimentalUseInnerBlocksProps)((0,F.useBlockProps)({className:I()("affwp-affiliate-area")}),{template:P,allowedBlocks:q});return(0,L.createElement)("div",{...e})},save:function({attributes:e}){return(0,L.createElement)(F.InnerBlocks.Content,null)}};var M=window.wp.element,j=window.wp.data,U=({setAttributes:e,label:t,labelFieldName:a,placeholder:l,resetFocus:i,required:n})=>(0,L.createElement)("div",{className:"affwp-field-label"},(0,L.createElement)(F.RichText,{tagName:"label",value:t,onChange:t=>{i&&i(),e(a?{[a]:t}:{label:t})},placeholder:null!=l?l:(0,S.__)("Add label…","affiliate-wp"),withoutInteractiveFormatting:!0,allowedFormats:[]}),n&&(0,L.createElement)("span",{className:"required"},(0,S.__)("(required)","affiliate-wp"))),O=function({isSelected:e,required:t,requiredAttribute:a,label:l,setAttributes:i,name:n,type:r,classNames:o,fieldClassNames:s,placeholder:f,context:c}){const p=(0,F.useBlockProps)(),d=c["affiliatewp/placeholders"];return(0,L.createElement)(L.Fragment,null,(0,L.createElement)("div",{...p},(0,L.createElement)(U,{identifier:"label",required:t,requiredAttribute:a,label:l,labelAttribute:"label",setAttributes:i,isSelected:e,name:n,context:c}),(0,L.createElement)(F.RichText,{identifier:"placeholder",placeholder:d?(0,S.__)("Add placeholder text…"):"",value:f,onChange:e=>i({placeholder:e}),allowedFormats:[],type:r,className:s})))},D=function(e){const{required:t,label:a,classNames:l,placeholder:i,type:n}=e.attributes,r=I()("affwp-field","affwp-field-text");return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S._x)("Field settings","Text field","affiliate-wp"),initialOpen:!0},(0,L.createElement)(N.ToggleControl,{label:(0,S._x)("Required","Text field","affiliate-wp"),className:"affwp-field-label__required",checked:t,onChange:t=>e.setAttributes({required:t}),disabled:e.disableRequired||!1,help:e.help||""}),(0,L.createElement)(N.TextControl,{label:(0,S._x)("Field Label","Text field","affiliate-wp"),value:a,onChange:t=>e.setAttributes({label:t})}),(0,L.createElement)(N.TextControl,{label:(0,S._x)("Field Placeholder","Text field","affiliate-wp"),value:i,onChange:t=>e.setAttributes({placeholder:t})}))),(0,L.createElement)(O,{label:a,type:"text",required:t,setAttributes:e.setAttributes,isSelected:e.isSelected,name:e.name,classNames:l,fieldClassNames:r,placeholder:i,context:e.context}))};const H=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z",fill:"none"}))}),V="affiliatewp/field-username",$={
/* translators: block name */
title:(0,S.__)("Username","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:H,attributes:{label:{type:"string",default:(0,S.__)("Username","affiliate-wp")},placeholder:{type:"string"},required:{type:"boolean",default:!0},type:{type:"string"}},
/* translators: block description */
description:(0,S.__)("The affiliate's username.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("username","affiliatewp"),/* translators: block keyword */
(0,S.__)("login","affiliatewp"),/* translators: block keyword */
(0,S.__)("text","affiliatewp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n}){
/* translators: Username help text */
const r=(0,S.__)("The Username field is always required","affiliate-wp");return(0,L.createElement)(D,{attributes:e,setAttributes:t,isSelected:a,disableRequired:!0,help:r,name:l,context:i})},save:()=>null},z=["affiliatewp/field-email","affiliatewp/field-text","affiliatewp/field-textarea","affiliatewp/field-website","affiliatewp/field-checkbox","affiliatewp/field-password","affiliatewp/field-phone","affiliatewp/field-register-button"],Z=affwp_blocks.terms_of_use,K=affwp_blocks.terms_of_use_link;let Q=[["affiliatewp/field-name",{label:(0,S.__)("Your Name","affiliate-wp"),type:"name"}],["affiliatewp/field-username",{label:(0,S.__)("Username","affiliate-wp"),required:!0,type:"username"}],["affiliatewp/field-account-email",{label:(0,S.__)("Account Email","affiliate-wp"),required:!0,type:"account"}],["affiliatewp/field-payment-email",{label:(0,S.__)("Payment Email","affiliate-wp"),type:"payment"}],["affiliatewp/field-website",{label:(0,S.__)("Website URL","affiliate-wp"),type:"websiteUrl"}],["affiliatewp/field-textarea",{label:(0,S.__)("How will you promote us?","affiliate-wp"),type:"promotionMethod"}]];Z&&Q.push(["affiliatewp/field-terms-of-use",{label:`Agree to our <a href="${K}" target="_blank">Terms of Use and Privacy Policy</a>`,required:!0}]),Q.push(["affiliatewp/field-register-button"]);const Y="affiliatewp/registration",G={title:(0,S.__)("Affiliate Registration","affiliate-wp"),description:(0,S.__)("Allow your affiliates to register.","affiliate-wp"),keywords:[(0,S.__)("Registration","affiliate-wp"),(0,S.__)("Form","affiliate-wp"),(0,S.__)("Register","affiliate-wp")],category:"affiliatewp",icon:B,supports:{html:!1,lightBlockWrapper:!0,multiple:!1},edit:function({name:e,attributes:t,setAttributes:a,isSelected:l,context:i,clientId:n}){const{redirect:r,placeholders:o,legend:s}=t,f=affwp_blocks.allow_affiliate_registration,c=I()("affwp-form"),p=(0,F.useBlockProps)({className:c}),d=(F.useInnerBlocksProps?F.useInnerBlocksProps:F.__experimentalUseInnerBlocksProps)(p,{template:Q,allowedBlocks:z}),u=(0,j.useSelect)((e=>{const{getBlock:t,getBlockRootClientId:a}=e(F.store),l=t(a(n));return"affiliatewp/affiliate-area"!==l?.name}),[n]);return(0,M.useEffect)((()=>{!1===u&&a({redirect:void 0})}),[n]),(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S.__)("General","affiliate-wp")},(0,L.createElement)(N.TextControl,{label:(0,S.__)("Form Title","affiliate-wp"),value:s||(0,S.__)("Register a new affiliate account","affiliate-wp"),onChange:e=>a({legend:e})}),(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Show Placeholder Text","affiliate-wp"),checked:o,onChange:e=>a({placeholders:e})})),!f&&(0,L.createElement)(N.Notice,{className:"affwp-block-inspector-notice",isDismissible:!1,status:"warning"},(0,S.__)('Affiliates will not see this form as "Allow Affiliate Registration" is disabled.',"affiliate-wp")),!0===u&&(0,L.createElement)(N.PanelBody,null,(0,L.createElement)(N.TextControl,{label:(0,S.__)("Redirect"),value:r,onChange:e=>a({redirect:e})}))),(0,L.createElement)("div",{...p},(0,L.createElement)(F.RichText,{identifier:"legend",tagName:"h3",value:s||(0,S.__)("Register a new affiliate account","affiliate-wp"),onChange:e=>{a({legend:e})},allowedFormats:[]}),(0,L.createElement)("div",{...d})))},save:function({attributes:e}){return(0,L.createElement)(F.InnerBlocks.Content,null)}};const J="affiliatewp/login",X={title:(0,S.__)("Affiliate Login","affiliate-wp"),description:(0,S.__)("Allow your affiliates to login.","affiliate-wp"),keywords:[(0,S.__)("Login","affiliate-wp"),(0,S.__)("Form","affiliate-wp")],category:"affiliatewp",icon:B,supports:{html:!1},edit:function({attributes:e,setAttributes:t,clientId:a}){const{redirect:l,legend:i,label:n,buttonText:r,placeholder:o,placeholders:s}=e,f=I()("affwp-button-login"),c=I()("affwp-field","affwp-field-checkbox"),p=(0,j.useSelect)((e=>{const{getBlock:t,getBlockRootClientId:l}=e(F.store),i=t(l(a));return"affiliatewp/affiliate-area"!==i?.name}),[a]);return(0,M.useEffect)((()=>{!1===p&&t({redirect:void 0})}),[a]),(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S.__)("General","affiliate-wp")},(0,L.createElement)(N.TextControl,{label:(0,S.__)("Redirect","affiliate-wp"),value:l,onChange:e=>t({redirect:e})}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Form Title","affiliate-wp"),value:i||(0,S.__)("Log into your account","affiliate-wp"),onChange:e=>t({legend:e})}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Button Text","affiliate-wp"),value:r,onChange:e=>t({buttonText:e})}),(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Show Placeholder Text","affiliate-wp"),checked:s,onChange:e=>t({placeholders:e})})),(0,L.createElement)(N.PanelBody,{title:(0,S.__)("Field Labels","affiliate-wp"),initialOpen:!1},(0,L.createElement)(N.TextControl,{label:(0,S.__)("Username","affiliate-wp"),value:n?.username,onChange:e=>{t({label:{...n,username:e}})}}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Password","affiliate-wp"),value:n?.password,onChange:e=>{t({label:{...n,password:e}})}}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Remember Text","affiliate-wp"),value:n?.userRemember,onChange:e=>{t({label:{...n,userRemember:e}})}})),s&&(0,L.createElement)(N.PanelBody,{title:(0,S.__)("Field Placeholders","affiliate-wp"),initialOpen:!1},(0,L.createElement)(N.TextControl,{label:(0,S.__)("Username","affiliate-wp"),value:o?.username,onChange:e=>{t({placeholder:{...o,username:e}})}}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Password","affiliate-wp"),value:o?.password,onChange:e=>{t({placeholder:{...o,password:e}})}}))),(0,L.createElement)("div",{id:"affwp-login-form",className:"affwp-form"},(0,L.createElement)(F.RichText,{identifier:"legend",tagName:"h3",value:i||(0,S.__)("Log into your account","affiliate-wp"),onChange:e=>{t({legend:e})},allowedFormats:[]}),(0,L.createElement)("div",{className:"wp-block block-editor-block-list__block"},(0,L.createElement)("div",{className:"affwp-field-label"},(0,L.createElement)(F.RichText,{identifier:"labelUsername",tagName:"label",value:n?.username,onChange:e=>{t({label:{...n,username:e}})},placeholder:(0,S.__)("Add label…","affiliate-wp"),allowedFormats:[]})),(0,L.createElement)(F.RichText,{identifier:"fieldUsername",placeholder:s?(0,S.__)("Add placeholder text…","affiliate-wp"):"",value:s?o?.username:"",onChange:e=>{t({placeholder:{...o,username:e}})},allowedFormats:[],type:"text",className:"affwp-field affwp-field-text"})),(0,L.createElement)("div",{className:"wp-block block-editor-block-list__block"},(0,L.createElement)("div",{className:"affwp-field-label"},(0,L.createElement)(F.RichText,{identifier:"labelPassword",tagName:"label",value:n?.password,onChange:e=>{t({label:{...n,password:e}})},placeholder:(0,S.__)("Add label…","affiliate-wp"),allowedFormats:[]})),(0,L.createElement)(F.RichText,{identifier:"fieldPassword",placeholder:s?(0,S.__)("Add placeholder text…","affiliate-wp"):"",value:s?o?.password:"",onChange:e=>{t({placeholder:{...o,password:e}})},allowedFormats:[],type:"text",className:"affwp-field affwp-field-text"})),(0,L.createElement)("div",{className:"wp-block block-editor-block-list__block"},(0,L.createElement)("input",{className:c,type:"checkbox"}),(0,L.createElement)(F.RichText,{identifier:"labelUserRemember",tagName:"label",value:n?.userRemember,onChange:e=>{t({label:{...n,userRemember:e}})},placeholder:(0,S.__)("Add label…","affiliate-wp")})),(0,L.createElement)("div",{className:"wp-block block-editor-block-list__block"},(0,L.createElement)(F.RichText,{identifier:"loginButton",placeholder:(0,S.__)("Add button text…","affiliate-wp"),value:r,onChange:e=>t({buttonText:e}),withoutInteractiveFormatting:!0,allowedFormats:[],className:f})),(0,L.createElement)("p",{className:"affwp-lost-password"},(0,L.createElement)("a",null,(0,S.__)("Lost your password?","affiliate-wp")))))},save(){return null}};var ee=window.wp.compose;const te=(0,ee.createHigherOrderComponent)((e=>t=>{if(t.isSelected){const a=wp.data.select("core/block-editor").getBlockHierarchyRootClientId(t.clientId);if(a&&"affiliatewp/affiliate-content"!==t.name&&"affiliatewp/affiliate-content"===wp.data.select("core/block-editor").getBlock(a).name)return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(e,{...t}),(0,L.createElement)(N.Notice,{isDismissible:!1},(0,L.createElement)(N.Icon,{icon:B,color:!0}),(0,S.__)("This block will only be shown to affiliates","affiliate-wp")))}return(0,L.createElement)(e,{...t})}),"withNotice");wp.hooks.addFilter("editor.BlockListBlock","affiliate-wp/with-notice",te);const ae="affiliatewp/affiliate-content",le={title:(0,S.__)("Affiliate Content","affiliate-wp"),description:(0,S.__)("Restrict content to logged-in affiliates.","affiliate-wp"),keywords:[(0,S.__)("Content","affiliate-wp"),(0,S.__)("Restrict","affiliate-wp")],category:"affiliatewp",icon:B,supports:{html:!1},edit:function({className:e}){return(0,L.createElement)("div",{className:e},(0,L.createElement)(F.InnerBlocks,null))},save({className:e}){return(0,L.createElement)("div",{className:e},(0,L.createElement)(F.InnerBlocks.Content,null))}},ie=(0,ee.createHigherOrderComponent)((e=>t=>{if(t.isSelected){const a=wp.data.select("core/block-editor").getBlockHierarchyRootClientId(t.clientId);if(a&&"affiliatewp/non-affiliate-content"!==t.name&&"affiliatewp/non-affiliate-content"===wp.data.select("core/block-editor").getBlock(a).name)return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(e,{...t}),(0,L.createElement)(N.Notice,{isDismissible:!1},(0,L.createElement)(N.Icon,{icon:B,color:!0}),(0,S.__)("This block will only be shown to non affiliates","affiliate-wp")))}return(0,L.createElement)(e,{...t})}),"withNotice");wp.hooks.addFilter("editor.BlockListBlock","affiliate-wp/with-notice",ie);const ne="affiliatewp/non-affiliate-content",re={title:(0,S.__)("Non Affiliate Content","affiliate-wp"),description:(0,S.__)("Show content to non affiliates.","affiliate-wp"),keywords:[(0,S.__)("Content","affiliate-wp"),(0,S.__)("Restrict","affiliate-wp")],category:"affiliatewp",icon:B,supports:{html:!1},edit:function({className:e}){return(0,L.createElement)("div",{className:e},(0,L.createElement)(F.InnerBlocks,null))},save({className:e}){return(0,L.createElement)("div",{className:e},(0,L.createElement)(F.InnerBlocks.Content,null))}};const oe="affiliatewp/opt-in",se={title:(0,S.__)("Opt-in Form","affiliate-wp"),description:(0,S.__)("Show an opt-in form that integrates with Mailchimp, ActiveCampaign, or ConvertKit.","affiliate-wp"),keywords:[(0,S.__)("Opt-in","affiliate-wp"),(0,S.__)("Form","affiliate-wp"),(0,S.__)("Sign Up","affiliate-wp")],category:"affiliatewp",icon:B,supports:{html:!1},edit:function({attributes:e,setAttributes:t}){const{redirect:a}=e;return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,null,(0,L.createElement)(N.TextControl,{label:(0,S.__)("Redirect"),value:a,onChange:e=>t({redirect:e})}))),(0,L.createElement)("div",{id:"affwp-login-form",className:"affwp-form"},(0,L.createElement)("p",null,(0,L.createElement)("label",{htmlFor:"affwp-opt-in-name"},(0,S.__)("First Name","affiliate-wp")),(0,L.createElement)("input",{id:"affwp-opt-in-name",className:"required",type:"text",name:"affwp_first_name",title:(0,S.__)("First Name","affiliate-wp")})),(0,L.createElement)("p",null,(0,L.createElement)("label",{htmlFor:"affwp-opt-in-name"},(0,S.__)("Last Name","affiliate-wp")),(0,L.createElement)("input",{id:"affwp-opt-in-name",className:"required",type:"text",name:"affwp_last_name",title:(0,S.__)("Last Name","affiliate-wp")})),(0,L.createElement)("p",null,(0,L.createElement)("label",{htmlFor:"affwp-opt-in-email"},(0,S.__)("Email Address","affiliate-wp")),(0,L.createElement)("input",{id:"affwp-opt-in-email",className:"required",type:"text",name:"affwp_email",title:(0,S.__)("Email Address","affiliate-wp")})),(0,L.createElement)("p",null,(0,L.createElement)("input",{className:"button",type:"submit",value:(0,S.__)("Subscribe","affiliate-wp")}))))},save(){return null}};var fe=window.wp.url,ce=a(84),pe=function({url:e,format:t,pretty:a}){const l=affwp_blocks.referral_format,i=affwp_blocks.pretty_referral_urls,n=affwp_blocks.affiliate_id||(0,S.__)("123","affiliate-wp"),r=affwp_blocks.affiliate_username||(0,S.__)("demoaffiliate","affiliate-wp"),o=affwp_blocks.referral_variable,s=e?(0,ce.trailingSlashIt)(e):wp.data.select("core/editor").getPermalink();let f="";"default"===t?f="username"===l?r:n:"id"===t?f=n:"username"===t&&(f=r);let c=(0,fe.addQueryArgs)(s,{[o]:f}),p=!1;return"default"===a&&i&&(p=!0),"yes"===a&&(p=!0),p&&(c=`${s}${(0,ce.trailingSlashIt)(o)}${(0,ce.trailingSlashIt)(f)}`),c};const de="affiliatewp/affiliate-referral-url",ue={title:(0,S.__)("Affiliate Referral URL","affiliate-wp"),description:(0,S.__)("Display the referral URL of the currently logged in affiliate.","affiliate-wp"),keywords:[(0,S.__)("URL","affiliate-wp"),(0,S.__)("Referral","affiliate-wp")],category:"affiliatewp",icon:B,supports:{html:!1},edit:function({attributes:e,setAttributes:t,className:a}){const{url:l,format:i,pretty:n}=e,r=pe({url:l,format:i,pretty:n});return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,null,(0,L.createElement)(N.RadioControl,{label:(0,S.__)("Pretty Affiliate URLs","affiliate-wp"),selected:n,options:[{label:(0,S.__)("Site Default","affiliate-wp"),value:"default"},{label:(0,S.__)("Yes","affiliate-wp"),value:"yes"},{label:(0,S.__)("No","affiliate-wp"),value:"no"}],onChange:e=>{t({pretty:e})}}),(0,L.createElement)(N.RadioControl,{label:(0,S.__)("Referral Format","affiliate-wp"),selected:i,options:[{label:(0,S.__)("Site Default","affiliate-wp"),value:"default"},{label:(0,S.__)("ID","affiliate-wp"),value:"id"},{label:(0,S.__)("Username","affiliate-wp"),value:"username"}],onChange:e=>{t({format:e})}}),(0,L.createElement)(F.URLInput,{label:(0,S.__)("Custom URL","affiliate-wp"),className:"components-text-control__input is-full-width",value:l,onChange:(e,a)=>t({url:e}),disableSuggestions:!0,placeholder:""}))),(0,L.createElement)("p",{className:a},r))},save(){return null}};var me=({id:e,name:t,description:a,image:l,url:i,text:n,preview:r})=>{const o=pe({url:i,format:affwp_blocks.referral_format,pretty:affwp_blocks.pretty_referral_urls}),s=String.raw`<a href="${o}" title="${n}">${n}</a>`,f=I()("affwp-creative","creative-"+e);return(0,L.createElement)(L.Fragment,null,(0,L.createElement)("div",{className:f},a&&(0,L.createElement)("p",{className:"affwp-creative-desc"},a),r&&(0,L.createElement)(N.Disabled,null,(0,L.createElement)("p",null,(0,L.createElement)("a",{href:o,title:n},(0,L.createElement)((()=>l?(0,L.createElement)("img",{alt:n,src:l}):(0,L.createElement)(L.Fragment,null,n)),null)))),(0,L.createElement)("p",null,(0,S.__)("Copy and paste the following:","affiliate-wp")),(0,L.createElement)("pre",null,(0,L.createElement)("code",null,s))))},we=window.wp.apiFetch,_e=a.n(we);const he="affiliatewp/affiliate-creatives",be={title:(0,S.__)("Affiliate Creatives","affiliate-wp"),description:(0,S.__)("Show creatives to your affiliates.","affiliate-wp"),keywords:[(0,S.__)("Creative","affiliate-wp"),(0,S.__)("Banner","affiliate-wp")],category:"affiliatewp",icon:B,supports:{html:!1},edit:function({attributes:e,setAttributes:t}){const[a,l]=(0,M.useState)([]),[i,n]=(0,M.useState)(),{preview:r,number:o}=e,s={number:o,status:"active"};(0,M.useEffect)((()=>{let e=!1;return async function(){try{const t=await _e()({path:(0,fe.addQueryArgs)("/affwp/v1/creatives/",s)});e||l(t)}catch(e){n(e)}}(),()=>{e=!0}}),[o]);const f=Array.isArray(a)&&a.length,c=()=>(0,L.createElement)(N.Icon,{icon:B,color:!0}),p=(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,null,(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Creative preview","affiliate-wp"),checked:!!r,onChange:e=>t({preview:e}),help:(0,S.__)("Displays an image or text preview above the HTML code.","affiliate-wp")}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Number","affiliate-wp"),type:"number",value:o,onChange:e=>t({number:e}),help:(0,S.__)("The number of affiliate creatives to show.","affiliate-wp")})));if(!f){const e=()=>{if(i){const e=i.message;return(0,L.createElement)(L.Fragment,null,e)}return!1};return(0,L.createElement)(L.Fragment,null,p,(0,L.createElement)(N.Placeholder,{icon:c,label:(0,S.__)("Affiliate Creatives","affiliate-wp")},Array.isArray(a)?(0,L.createElement)(e,null):(0,L.createElement)(N.Spinner,null)))}return(0,L.createElement)(L.Fragment,null,p,a.map((e=>(0,L.createElement)(me,{key:e.creative_id,id:e.creative_id,name:e.name,description:e.description,image:e.image,url:e.url,text:e.text,preview:r}))))},save(){return null}};const ge="affiliatewp/affiliate-creative",Ee={title:(0,S.__)("Affiliate Creative","affiliate-wp"),description:(0,S.__)("Show an affiliate creative.","affiliate-wp"),keywords:[(0,S.__)("Creative","affiliate-wp"),(0,S.__)("Banner","affiliate-wp")],category:"affiliatewp",icon:B,supports:{html:!1},edit:function({attributes:e,setAttributes:t}){const{id:a}=e,[l,i]=(0,M.useState)(null),[n,r]=(0,M.useState)(null),[o,s]=(0,M.useState)(!1),[f,c]=(0,M.useState)(),p={number:100};(0,M.useEffect)((()=>{let e=!1;if(!l)return async function(){s(!0);try{const t=await _e()({path:(0,fe.addQueryArgs)("/affwp/v1/creatives/",p)});e||(i(t),a&&r(t.find((e=>e.creative_id===a))))}catch(e){c(e)}s(!1)}(),()=>{e=!0}}),[]),(0,M.useEffect)((()=>{n&&t({id:parseInt(n.creative_id)})}),[n]);const d=()=>(0,L.createElement)(N.Icon,{icon:B,color:!0}),u=e=>l.find((t=>t.creative_id===e)),m=()=>(0,L.createElement)(L.Fragment,null,(0,L.createElement)(N.SelectControl,{label:(0,S.__)("Select the affiliate creative to display","affiliate-wp"),value:a&&void 0!==a&&u(a)?a:"",options:(()=>{const e={label:(0,S.__)("- Select -","affiliate-wp"),value:"",disabled:!0},t=l.map((e=>({label:`(id: ${e.id}) ${e.name}`,value:e.id})));return[e,...t]})(),onChange:e=>r(l.find((t=>t.creative_id===parseInt(e))))})),w=()=>(0,L.createElement)(F.InspectorControls,null,n&&a&&!(e=>"active"===e.status)(n)&&(0,L.createElement)(N.Notice,{className:"affwp-block-inspector-notice",isDismissible:!1,status:"warning"},(0,S.__)("This creative is inactive.","affiliate-wp")),a&&!u(a)&&(0,L.createElement)(N.Notice,{className:"affwp-block-inspector-notice",isDismissible:!1,status:"error"},(0,S.sprintf)((0,S.__)("This creative (id: %d) no longer exists.","affiliate-wp"),a)),(0,L.createElement)(N.PanelBody,null,(0,L.createElement)(m,null)));return o?(0,L.createElement)(N.Spinner,null):null!==l||null!==n||a?null===n&&null!==l&&!a||null!==l&&a&&!u(a)?(0,L.createElement)(L.Fragment,null,(0,L.createElement)(w,null),(0,L.createElement)(N.Placeholder,{icon:d,label:(0,S.__)("Affiliate Creative","affiliate-wp")},(0,L.createElement)(m,null))):n&&a?(0,L.createElement)(L.Fragment,null,(0,L.createElement)(w,null),(0,L.createElement)(me,{id:n.creative_id,name:n.name,description:n.description,image:n.image,url:n.url,text:n.text,preview:!0})):null:(0,L.createElement)(L.Fragment,null,(0,L.createElement)(N.Placeholder,{icon:d,label:(0,S.__)("Affiliate Creative","affiliate-wp")},(0,S.__)("No creatives were found.","affiliate-wp")))},save(){return null}};const ke=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z",fill:"none"}))}),ye="affiliatewp/field-text",ve={
/* translators: block name */
title:(0,S.__)("Text","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:ke,attributes:{label:{type:"string",default:(0,S.__)("Text","affiliate-wp")},required:{type:"boolean",default:!1},placeholder:{type:"string"},type:{type:"string"}},
/* translators: block description */
description:(0,S.__)("A field for collecting text.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("text","affiliatewp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n}){return(0,L.createElement)(D,{attributes:e,setAttributes:t,isSelected:a,name:l,context:i})},save:()=>null};const xe=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z",fill:"none"}))}),Ce="affiliatewp/field-name",Ae={
/* translators: block name */
title:(0,S.__)("Name","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:xe,attributes:{label:{type:"string",default:(0,S.__)("Your Name","affiliate-wp")},placeholder:{type:"string"},required:{type:"boolean",default:!1},type:{type:"string"}},
/* translators: block description */
description:(0,S.__)("The affiliate's name.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("name","affiliatewp"),/* translators: block keyword */
(0,S.__)("text","affiliatewp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n}){return(0,L.createElement)(D,{attributes:e,setAttributes:t,isSelected:a,name:l,context:i})},save:()=>null};var Le=function(e){const{required:t,label:a,classNames:l,placeholder:i,type:n}=e.attributes,r=I()("affwp-field","affwp-field-text");return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S._x)("Field settings","Email field","affiliate-wp"),initialOpen:!0},(0,L.createElement)(N.ToggleControl,{label:(0,S._x)("Required","Email field","affiliate-wp"),className:"affwp-field-label__required",checked:t,disabled:e.disableRequired||!1,help:e.help||"",onChange:t=>e.setAttributes({required:t})}),(0,L.createElement)(N.TextControl,{label:(0,S._x)("Field Label","Email field","affiliate-wp"),value:a,onChange:t=>e.setAttributes({label:t})}),(0,L.createElement)(N.TextControl,{label:(0,S._x)("Field Placeholder","Email field","affiliate-wp"),value:i,onChange:t=>e.setAttributes({placeholder:t})}))),(0,L.createElement)(O,{label:a,type:"email",required:t,setAttributes:e.setAttributes,isSelected:e.isSelected,name:e.name,classNames:l,fieldClassNames:r,placeholder:i,context:e.context}))};const Ne=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207",fill:"none"}))}),Be="affiliatewp/field-payment-email",Te={
/* translators: block name */
title:(0,S.__)("Payment Email","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:Ne,attributes:{label:{type:"string",default:(0,S.__)("Email Address","affiliate-wp")},required:{type:"boolean",default:!1},placeholder:{type:"string"},type:{type:"string"}},
/* translators: block description */
description:(0,S.__)("A field for collecting a valid payment email address.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("e-mail","affiliate-wp"),/* translators: block keyword */
(0,S.__)("mail","affiliate-wp"),/* translators: block keyword */
(0,S.__)("payment","affiliate-wp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n}){const{required:r,label:o,classNames:s,placeholder:f,type:c}=e;return I()("affwp-field","affwp-field-email"),(0,L.createElement)(Le,{attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n})},save:()=>null};const Ie=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207",fill:"none"}))}),Se="affiliatewp/field-account-email",Fe={
/* translators: block name */
title:(0,S.__)("Account Email","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:Ie,attributes:{label:{type:"string",default:(0,S.__)("Account Email","affiliate-wp")},required:{type:"boolean",default:!0},placeholder:{type:"string"},type:{type:"string"}},
/* translators: block description */
description:(0,S.__)("A field for collecting the account email address.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("e-mail","affiliate-wp"),/* translators: block keyword */
(0,S.__)("mail","affiliate-wp"),/* translators: block keyword */
(0,S.__)("account","affiliate-wp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n}){const{required:r,label:o,classNames:s,placeholder:f,type:c}=e;return I()("affwp-field","affwp-field-email"),(0,L.createElement)(Le,{attributes:e,disableRequired:!0,help:(0,S.__)("The Account Email field is always required","affiliate-wp"),setAttributes:t,isSelected:a,name:l,context:i,clientId:n})},save:()=>null},qe=(e,t)=>{const a=wp.data.select("core/block-editor"),l=a.getBlockRootClientId(t),i=a.getBlock(l).innerBlocks.find((({attributes:t})=>t.type===e));if(i)return i},Pe=(e,t)=>t===qe(e,t)?.clientId;const Re=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z",fill:"none"}))}),We="affiliatewp/field-textarea",Me={
/* translators: block name */
title:(0,S.__)("Textarea","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:Re,attributes:{label:{type:"string",default:(0,S.__)("Message","affiliate-wp")},required:{type:"boolean",default:!1},placeholder:{type:"string"},type:{type:"string"}},
/* translators: block description */
description:(0,S.__)("A field for collecting larger text responses.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("textarea","affiliate-wp")],supports:{reusable:!1,html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n}){const{required:r,label:o,placeholder:s,type:f}=e,[c,p]=(0,M.useState)("promotionMethod"===f),d=I()("affwp-field","affwp-field-textarea"),u=(0,F.useBlockProps)(),m=i["affiliatewp/placeholders"];(0,M.useEffect)((()=>{t({type:c?"promotionMethod":void 0})}),[c]);const w=!Pe("promotionMethod",n)&&qe("promotionMethod",n);return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S.__)("Field settings","affiliate-wp")},(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Required","affiliate-wp"),className:"affwp-field-label__required",checked:r,onChange:e=>t({required:e})}),(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Use as Promotion Method field","affiliate-wp"),checked:c,onChange:e=>p(e),disabled:w}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Field Label","affiliate-wp"),value:o,onChange:e=>t({label:e})}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Field Placeholder","affiliate-wp"),value:s,onChange:e=>t({placeholder:e})}))),(0,L.createElement)("div",{...u},(0,L.createElement)(U,{identifier:"label",required:r,requiredAttribute:"required",label:o,labelAttribute:"label",setAttributes:t,isSelected:a,name:l,context:i}),(0,L.createElement)(F.PlainText,{placeholder:m?(0,S.__)("Add placeholder text…"):"",className:d,value:s,onChange:e=>t({placeholder:e}),rows:5})))},save:()=>null};const je=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207",fill:"none"}))}),Ue="affiliatewp/field-email",Oe={
/* translators: block name */
title:(0,S.__)("Email","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:je,attributes:{label:{type:"string",default:(0,S.__)("Email Address","affiliate-wp")},required:{type:"boolean",default:!1},placeholder:{type:"string"},type:{type:"string"}},
/* translators: block description */
description:(0,S.__)("A field for collecting a validated email address.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("e-mail","affiliate-wp"),/* translators: block keyword */
(0,S.__)("mail","affiliate-wp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n}){const{required:r,label:o,classNames:s,placeholder:f,type:c}=e;return I()("affwp-field","affwp-field-email"),(0,L.createElement)(Le,{attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n})},save:()=>null};const De=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9",fill:"none"}))}),He="affiliatewp/field-website",Ve={
/* translators: block name */
title:(0,S.__)("Website","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:De,attributes:{label:{type:"string",default:(0,S.__)("Website","affiliate-wp")},required:{type:"boolean",default:!1},placeholder:{type:"string"},type:{type:"string"}},
/* translators: block description */
description:(0,S.__)("A field for collecting a website URL.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("url","affiliate-wp"),(0,S.__)("website","affiliate-wp"),(0,S.__)("link","affiliate-wp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n}){const{required:r,label:o,placeholder:s,type:f}=e,[c,p]=(0,M.useState)("websiteUrl"===f),d=I()("affwp-field","affwp-field-website");(0,M.useEffect)((()=>{t({type:c?"websiteUrl":void 0})}),[c]);const u=!Pe("websiteUrl",n)&&qe("websiteUrl",n);return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S.__)("Field settings","affiliate-wp"),initialOpen:!0},(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Required","affiliate-wp"),className:"affwp-field-label__required",checked:r,onChange:e=>t({required:e})}),(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Save to affiliate's user profile","affiliate-wp"),checked:c,onChange:e=>p(e),disabled:u,help:u?(0,S.__)('Only one Website can be saved as the "Website" field on the WordPress user profile.',"affiliate-wp"):(0,S.__)('The Website will be saved to the "Website" field on the affiliate\'s WordPress user profile.',"affiliate-wp")}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Field Label","affiliate-wp"),value:o,onChange:e=>t({label:e})}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Field Placeholder","affiliate-wp"),value:s,onChange:e=>t({placeholder:e})}))),(0,L.createElement)(O,{label:o,type:"url",required:r,setAttributes:t,isSelected:a,name:l,fieldClassNames:d,placeholder:s,context:i}))},save:()=>null};const $e=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:24,width:24},(0,L.createElement)("defs",null),(0,L.createElement)("title",null,"check-2"),(0,L.createElement)("path",{d:"M6,13.223,8.45,16.7a1.049,1.049,0,0,0,1.707.051L18,6.828",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("rect",{x:.75,y:.749,width:22.5,height:22.5,rx:1.5,ry:1.5,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}))}),ze="affiliatewp/field-checkbox",Ze={
/* translators: block name */
title:(0,S.__)("Checkbox","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:$e,attributes:{label:{type:"string",default:(0,S.__)("Option","affiliate-wp")},required:{type:"boolean",default:!1}},
/* translators: block description */
description:(0,S.__)("Add a single checkbox.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("checkbox","affiliate-wp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,resetFocus:l,name:i,context:n,clientId:r}){const{required:o,label:s}=e,f=(0,F.useBlockProps)(),c=I()("affwp-field","affwp-field-checkbox");return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S._x)("Field settings","Checkbox field","affiliate-wp"),initialOpen:!0},(0,L.createElement)(N.ToggleControl,{label:(0,S._x)("Required","Checkbox field","affiliate-wp"),className:"affwp-field-label__required",checked:o,onChange:e=>t({required:e})}),(0,L.createElement)(N.TextControl,{label:(0,S._x)("Field Label","Checkbox field","affiliate-wp"),value:s,onChange:e=>t({label:e})}))),(0,L.createElement)("div",{...f},(0,L.createElement)("input",{className:c,type:"checkbox"}),(0,L.createElement)(F.RichText,{identifier:"label",tagName:"label",value:s,onChange:e=>{l&&l(),t({label:e})},placeholder:(0,S._x)("Add label ...","Checkbox field","affiliate-wp")})))},save:()=>null};const Ke=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",fill:"none"}))}),Qe="affiliatewp/field-password",Ye={
/* translators: block name */
title:(0,S.__)("Password","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:Ke,attributes:{label:{type:"string",default:(0,S.__)("Password","affiliate-wp")},labelConfirm:{type:"string",default:(0,S.__)("Confirm Password","affiliate-wp")},placeholder:{type:"string"},placeholderConfirm:{type:"string"}},
/* translators: block description */
description:(0,S.__)("A field for collecting the affiliate's desired password.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("password","affiliate-wp")],supports:{html:!1,multiple:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i}){const{required:n,label:r,labelConfirm:o,placeholder:s,placeholderConfirm:f}=e,c=(0,F.useBlockProps)(),p=I()("affwp-field","affwp-field-password"),d=i["affiliatewp/placeholders"];return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.Notice,{className:"affwp-block-inspector-notice",isDismissible:!1,status:"warning"},(0,S.__)("The Password fields will only show on the Affiliate Registration form to logged out users.","affiliate-wp")),(0,L.createElement)(N.PanelBody,{title:(0,S.__)("Field settings","affiliate-wp"),initialOpen:!0},(0,L.createElement)(N.TextControl,{label:(0,S.__)("Password Field Label","affiliate-wp"),value:r,onChange:e=>t({label:e})}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Password Field Placeholder","affiliate-wp"),value:s,onChange:e=>t({placeholder:e})}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Password Confirm Field Label","affiliate-wp"),value:o,onChange:e=>t({labelConfirm:e})}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Password Confirm Field Placeholder","affiliate-wp"),value:f,onChange:e=>t({placeholderConfirm:e})}))),(0,L.createElement)("div",{...c},(0,L.createElement)("div",{style:{marginBottom:28}},(0,L.createElement)(U,{identifier:"label",required:n,requiredAttribute:"required",label:r,labelAttribute:"label",setAttributes:t,isSelected:a,name:l,context:i}),(0,L.createElement)(F.RichText,{identifier:"placeholder",placeholder:d?(0,S.__)("Add placeholder text…"):"",value:s,onChange:e=>t({placeholder:e}),allowedFormats:[],type:"text",className:p})),(0,L.createElement)("div",null,(0,L.createElement)(U,{identifier:"labelConfirm",required:n,requiredAttribute:"required",label:o,labelAttribute:"labelConfirm",setAttributes:t,isSelected:a,name:l,context:i}),(0,L.createElement)(F.RichText,{identifier:"placeholderConfirm",placeholder:d?(0,S.__)("Add placeholder text…"):"",value:f,onChange:e=>t({placeholderConfirm:e}),allowedFormats:[],type:"text",className:p}))))},save:()=>null};const Ge=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z",fill:"none"}))}),Je="affiliatewp/field-phone",Xe={
/* translators: block name */
title:(0,S.__)("Phone","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:Ge,attributes:{label:{type:"string",default:(0,S.__)("Phone Number","affiliate-wp")},required:{type:"boolean",default:!1},placeholder:{type:"string"}},
/* translators: block description */
description:(0,S.__)("A field for collecting a phone number.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("phone","affiliatewp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,context:i,clientId:n}){const{required:r,label:o,classNames:s,placeholder:f}=e,c=I()("affwp-field","affwp-field-phone");return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S.__)("Field settings","affiliate-wp"),initialOpen:!0},(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Required","affiliate-wp"),className:"affwp-field-label__required",checked:r,onChange:e=>t({required:e})}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Field Label","affiliate-wp"),value:o,onChange:e=>t({label:e})}),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Field Placeholder","affiliate-wp"),value:f,onChange:e=>t({placeholder:e})}))),(0,L.createElement)(O,{label:o,type:"tel",required:r,setAttributes:t,isSelected:a,name:l,classNames:s,fieldClassNames:c,placeholder:f,context:i}))},save:()=>null};const et=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,L.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122",fill:"none"}))}),tt="affiliatewp/field-register-button",at={category:"affiliatewp",icon:et,attributes:{placeholder:{type:"string"},text:{type:"string",default:(0,S.__)("Register","affiliate-wp")}},
/* translators: block name */
title:(0,S.__)("Register Button","affiliate-wp"),
/* translators: block description */
description:(0,S.__)("A button for submitting the affiliate registration.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("submit","affiliate-wp"),/* translators: block keyword */
(0,S.__)("button","affiliate-wp"),/* translators: block keyword */
(0,S.__)("register","affiliate-wp")],parent:["affiliatewp/registration"],supports:{reusable:!1,html:!1,multiple:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,name:l,clientId:i}){const{text:n}=e,r=(0,F.useBlockProps)(),o=I()("affwp-button-register");return(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S.__)("Button Settings","affiliate-wp"),initialOpen:!0},(0,L.createElement)(N.TextControl,{label:(0,S.__)("Button Text","affiliate-wp"),value:n,onChange:e=>t({text:e})}))),(0,L.createElement)("div",{...r},(0,L.createElement)(F.RichText,{identifier:"text",placeholder:(0,S.__)("Add button text…","affiliate-wp"),value:n,onChange:e=>t({text:e}),withoutInteractiveFormatting:!0,allowedFormats:[],className:o})))},save:()=>null};const lt=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:24,width:24},(0,L.createElement)("g",null,(0,L.createElement)("path",{d:"M17.25.75H3.75a3,3,0,0,0-3,3v18a1.5,1.5,0,0,0,1.5,1.5H3.68",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("line",{x1:3.75,y1:5.5,x2:11,y2:5.5,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("line",{x1:3.75,y1:9.5,x2:8.61,y2:9.5,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M15,9.75V3A2.25,2.25,0,0,1,17.25.75h0A2.25,2.25,0,0,1,19.5,3V5.5H15",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("g",null,(0,L.createElement)("line",{x1:21.75,y1:19.61,x2:16.96,y2:20.57,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M17.44,15.14l-2.26.95a1.41,1.41,0,0,1-1.12,0A1.52,1.52,0,0,1,14,13.35l2.26-1.13a2,2,0,0,1,.9-.22,1.8,1.8,0,0,1,.69.13L22.47,14",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M8.2,20.61H9.79l3.05,2.32A.82.82,0,0,0,14,23l4.26-3.52a.83.83,0,0,0,.13-1.16L16,15.73",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M13.74,13.51l-.25-.21A1.83,1.83,0,0,0,12.43,13a1.93,1.93,0,0,0-.67.12L8.19,14.6",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M6.75,21.36h.3a1.14,1.14,0,0,0,1.2-1.08V14.93a1.14,1.14,0,0,0-1.2-1.07h-.3",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M23.25,21.36H23a1.14,1.14,0,0,1-1.2-1.08V14.93A1.14,1.14,0,0,1,23,13.86h.3",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}))))}),it="affiliatewp/field-terms-of-use",nt=affwp_blocks?.terms_of_use,rt=affwp_blocks?.terms_of_use_link,ot=affwp_blocks?.terms_of_use_label,st={
/* translators: block name */
title:(0,S.__)("Affiliate Terms of Use","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:lt,attributes:{label:{type:"string",default:ot},required:{type:"boolean",default:!0},link:{type:"string",default:rt},id:{type:"number",default:nt},style:{type:"number",default:1}},
/* translators: block description */
description:(0,S.__)("Display an Affiliate Terms of Use checkbox which affiliates must agree to.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("checkbox","affiliate-wp"),/* translators: block keyword */
(0,S.__)("terms of use","affiliate-wp"),/* translators: block keyword */
(0,S.__)("affiliate terms","affiliate-wp")],supports:{html:!1,lightBlockWrapper:!0},edit:function({attributes:e,setAttributes:t,isSelected:a,resetFocus:l,name:i,context:n,clientId:r}){const{required:o,label:s,link:f,id:c,style:p}=e,[d,u]=(0,M.useState)(!1),[m,w]=(0,M.useState)(e.link),_=F.LinkControl?F.LinkControl:F.__experimentalLinkControl,h=(0,j.useSelect)((e=>{if(!c)return;let t=e("core").getEntityRecord("postType","page",c);return t?.content?.raw})),b=(0,F.useBlockProps)(),g=I()("affwp-field","affwp-field-terms-of-use"),E=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:24,width:24},(0,L.createElement)("g",null,(0,L.createElement)("path",{d:"M17.25.75H3.75a3,3,0,0,0-3,3v18a1.5,1.5,0,0,0,1.5,1.5H3.68",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("line",{x1:3.75,y1:5.5,x2:11,y2:5.5,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("line",{x1:3.75,y1:9.5,x2:8.61,y2:9.5,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M15,9.75V3A2.25,2.25,0,0,1,17.25.75h0A2.25,2.25,0,0,1,19.5,3V5.5H15",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("g",null,(0,L.createElement)("line",{x1:21.75,y1:19.61,x2:16.96,y2:20.57,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M17.44,15.14l-2.26.95a1.41,1.41,0,0,1-1.12,0A1.52,1.52,0,0,1,14,13.35l2.26-1.13a2,2,0,0,1,.9-.22,1.8,1.8,0,0,1,.69.13L22.47,14",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M8.2,20.61H9.79l3.05,2.32A.82.82,0,0,0,14,23l4.26-3.52a.83.83,0,0,0,.13-1.16L16,15.73",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M13.74,13.51l-.25-.21A1.83,1.83,0,0,0,12.43,13a1.93,1.93,0,0,0-.67.12L8.19,14.6",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M6.75,21.36h.3a1.14,1.14,0,0,0,1.2-1.08V14.93a1.14,1.14,0,0,0-1.2-1.07h-.3",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("path",{d:"M23.25,21.36H23a1.14,1.14,0,0,1-1.2-1.08V14.93A1.14,1.14,0,0,1,23,13.86h.3",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}))))});return(0,M.useEffect)((()=>{if(!f)return 1===p&&u(!0),()=>{u(!1)}}),[f]),(0,L.createElement)("div",{...b},!1===d&&(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S.__)("Field settings","affiliate-wp"),initialOpen:!0,className:"panel-terms-of-use"},(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Required","affiliate-wp"),className:"affwp-field-label__required",checked:o,onChange:e=>t({required:e})}),(0,L.createElement)(N.RadioControl,{label:(0,S.__)("Display Style","affiliate-wp"),selected:p,options:[{label:(0,S.__)("Default","affiliate-wp"),value:1},{label:(0,S.__)("Show above checkbox","affiliate-wp"),value:2}],onChange:e=>t({style:parseInt(e)})}),2===p&&(0,L.createElement)(N.BaseControl,{label:(0,S.__)("Page Content to Display","affiliate-wp"),__nextHasNoMarginBottom:!0},(0,L.createElement)(_,{searchInputPlaceholder:(0,S.__)("Terms of Use Page","affiliate-wp"),value:{url:e.link},onChange:e=>{t({link:e.url,id:"URL"!==e.type?e.id:void 0})},onRemove:()=>{t({link:void 0,id:void 0})},settings:[],suggestionsQuery:{type:"post",subtype:"page"}})),(0,L.createElement)(N.TextControl,{label:(0,S.__)("Field Label","affiliate-wp"),value:s,onChange:e=>t({label:e})}))),!0===d?(0,L.createElement)(N.Placeholder,{icon:E,label:(0,S.__)("Affiliate Terms of Use","affiliate-wp")},(0,L.createElement)("p",null,(0,S.__)("Select your Affiliate Terms of Use page below.","affiliate-wp")," ",(0,L.createElement)(N.ExternalLink,{href:affwp_blocks.terms_of_use_generator},(0,S.__)("Create one using a template","affiliate-wp"))),(0,L.createElement)(_,{value:m,onChange:e=>{w(e),t({link:e.url,id:"URL"!==e.type?e.id:void 0,label:(0,S.sprintf)(
// translators: %1$s: open link tag, %2$s close link tag
(0,S.__)("Agree to our %1$sTerms of Use and Privacy Policy%2$s","affiliate-wp"),`<a href="${e.url}" target="_blank">`,"</a>")})},searchInputPlaceholder:(0,S.__)("Select a Terms of Use Page","affiliate-wp"),settings:[],suggestionsQuery:{type:"post",subtype:"page"}})):(0,L.createElement)(L.Fragment,null,1===p&&(0,L.createElement)(L.Fragment,null,(0,L.createElement)("input",{className:g,type:"checkbox"}),(0,L.createElement)(F.RichText,{identifier:"label",tagName:"label",value:s,onChange:e=>{l&&l(),t({label:e})},placeholder:(0,S.__)("Add label ...","affiliate-wp")})),2===p&&(0,L.createElement)(L.Fragment,null,!c&&(0,L.createElement)("p",{className:"affwp-error-notice"},(0,S.__)("No Terms of Use page selected.","affiliate-wp")),(0,L.createElement)("div",{className:"affwp-field-terms-of-use-content",dangerouslySetInnerHTML:{__html:h}}),(0,L.createElement)("input",{className:g,type:"checkbox"}),(0,L.createElement)(F.RichText,{identifier:"label",tagName:"label",value:s,onChange:e=>{l&&l(),t({label:e})},placeholder:(0,S.__)("Add label ...","affiliate-wp")}))))},save:()=>null};var ft=({setAttributes:e,width:t,id:a,required:l})=>(0,L.createElement)(L.Fragment,null,(0,L.createElement)(F.InspectorControls,null,(0,L.createElement)(N.PanelBody,{title:(0,S.__)("Field Settings","affiliate-wp")},(0,L.createElement)(N.ToggleControl,{label:(0,S.__)("Field is required","affiliate-wp"),className:"affiliatewp-field-label__required",checked:l,onChange:t=>e({required:t}),help:(0,S.__)("Does this field have to be completed for the form to be submitted?","affiliate-wp")}))));class ct extends M.Component{constructor(...e){super(...e),this.onChangeOption=this.onChangeOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.onDeleteOption=this.onDeleteOption.bind(this),this.textInput=(0,M.createRef)()}componentDidMount(){this.props.isInFocus&&this.textInput.current.focus()}componentDidUpdate(){this.props.isInFocus&&this.textInput.current.focus()}onChangeOption(e){this.props.onChangeOption(this.props.index,e.target.value)}onKeyPress(e){if("Enter"===e.key)return this.props.onAddOption(this.props.index),void e.preventDefault();"Backspace"===e.key&&""===e.target.value&&(this.props.onChangeOption(this.props.index),e.preventDefault())}onDeleteOption(){this.props.onChangeOption(this.props.index)}render(){const{isSelected:e,option:t,type:a}=this.props;return(0,L.createElement)("li",{className:"affiliatewp-option"},a&&"select"!==a&&(0,L.createElement)("input",{className:"affiliatewp-option__type",type:a,disabled:!0}),(0,L.createElement)("input",{type:"text",className:"affiliatewp-option__input",value:t,placeholder:(0,S.__)("Write option…","affiliate-wp"),onChange:this.onChangeOption,onKeyDown:this.onKeyPress,ref:this.textInput}),e&&(0,L.createElement)(N.Button,{className:"affiliatewp-option__remove",icon:"trash",label:(0,S.__)("Remove option","affiliate-wp"),onClick:this.onDeleteOption}))}}var pt=ct,dt=(0,ee.withInstanceId)((function(e){const{id:t,type:a,instanceId:l,required:i,label:n,setAttributes:r,isSelected:o,options:s}=e,[f,c]=(0,M.useState)(null),p=(e=null,t=null)=>{const a=s.slice(0);null===t?(a.splice(e,1),e>0&&c(e-1)):(a.splice(e,1,t),c(e)),r({options:a})},d=(e=null)=>{const t=s.slice(0);let a=0;"object"==typeof e?(t.push(""),a=t.length-1):(t.splice(e+1,0,""),a=e+1),c(a),r({options:t})},u=(0,F.useBlockProps)();return(0,L.createElement)(L.Fragment,null,(0,L.createElement)("div",{...u},(0,L.createElement)(U,{required:i,label:n,setAttributes:r,isSelected:o,resetFocus:()=>c(null)}),(0,L.createElement)("ol",{className:"affiliatewp-field-multiple__list",id:`affiliatewp-field-multiple-${l}`},s.map(((e,t)=>(0,L.createElement)(pt,{type:a,key:t,option:e,index:t,onChangeOption:p,onAddOption:d,isInFocus:t===f&&o,isSelected:o})))),o&&(0,L.createElement)(N.Button,{className:"affiliatewp-field-multiple__add-option",icon:"insert",label:(0,S.__)("Insert option","affiliate-wp"),onClick:d},(0,S.__)("Add option","affiliate-wp")),(0,L.createElement)(ft,{id:t,required:i,setAttributes:r})))}));const ut=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,L.createElement)("path",{d:"M2.75 23.25L21.25 23.25C22.3546 23.25 23.25 22.3546 23.25 21.25L23.25 2.75C23.25 1.64543 22.3546 0.75 21.25 0.75L2.75 0.75C1.64543 0.75 0.75 1.64543 0.75 2.75L0.75 21.25C0.75 22.3546 1.64543 23.25 2.75 23.25Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,L.createElement)("path",{d:"M17.25 9L12.592 14.989C12.5219 15.0791 12.4321 15.1521 12.3295 15.2023C12.2269 15.2524 12.1142 15.2785 12 15.2785C11.8858 15.2785 11.7731 15.2524 11.6705 15.2023C11.5679 15.1521 11.4781 15.0791 11.408 14.989L6.75 9",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}))}),mt="affiliatewp/field-select",wt=({attributes:e,name:t})=>null===e.label?(0,A.getBlockType)(t).title:e.label,_t={apiVersion:2,
/* translators: block name */
title:(0,S.__)("Dropdown Field","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:ut,attributes:{label:{type:"string",default:"Select one"},required:{type:"boolean",default:!1},options:{type:"array",default:[]},defaultValue:{type:"string",default:""},placeholder:{type:"string",default:""},id:{type:"string",default:""}},
/* translators: block description */
description:(0,S.__)("Add a select box with several items.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("select","affiliatewp")],supports:{reusable:!1,html:!1},edit:("select",e=>(0,L.createElement)(dt,{label:wt(e),required:e.attributes.required,options:e.attributes.options,setAttributes:e.setAttributes,type:"select",isSelected:e.isSelected,id:e.attributes.id})),save:()=>null};const ht=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,L.createElement)("path",{d:"M12.25 23.5C18.4632 23.5 23.5 18.4632 23.5 12.25C23.5 6.0368 18.4632 1 12.25 1C6.0368 1 1 6.0368 1 12.25C1 18.4632 6.0368 23.5 12.25 23.5Z",stroke:"black",strokeWidth:"2.0",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,L.createElement)("path",{d:"M12.25 17C14.8734 17 17 14.8734 17 12.25C17 9.62665 14.8734 7.5 12.25 7.5C9.62665 7.5 7.5 9.62665 7.5 12.25C7.5 14.8734 9.62665 17 12.25 17Z",stroke:"black",strokeWidth:"2.0",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}))}),bt="affiliatewp/field-radio",gt=({attributes:e,name:t})=>null===e.label?(0,A.getBlockType)(t).title:e.label,Et={apiVersion:2,
/* translators: block name */
title:(0,S.__)("Single Choice (Radio)","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:ht,attributes:{label:{type:"string",default:"Choose one option"},required:{type:"boolean",default:!1},options:{type:"array",default:[]},defaultValue:{type:"string",default:""},placeholder:{type:"string",default:""},id:{type:"string",default:""}},
/* translators: block description */
description:(0,S.__)("Add one or more radio buttons.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("radio","affiliatewp"),/* translators: block keyword */
(0,S.__)("option","affiliatewp")],supports:{reusable:!1,html:!1},edit:e=>(0,L.createElement)(dt,{label:gt(e),required:e.attributes.required,options:e.attributes.options,setAttributes:e.setAttributes,type:"radio",isSelected:e.isSelected,id:e.attributes.id}),save:()=>null},kt=(0,L.createElement)(N.Icon,{icon:(0,L.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:24,width:24},(0,L.createElement)("defs",null),(0,L.createElement)("title",null,"checklist"),(0,L.createElement)("rect",{x:.75,y:.749,width:22.5,height:22.5,rx:1.5,ry:1.5,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("polyline",{points:"12 4.499 7.5 10.499 4.5 7.499",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("line",{x1:14.25,y1:8.249,x2:18.75,y2:8.249,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("polyline",{points:"12 13.499 7.5 19.499 4.5 16.499",fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}),(0,L.createElement)("line",{x1:14.25,y1:17.249,x2:18.75,y2:17.249,fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"}))}),yt="affiliatewp/field-checkbox-multiple",vt=({attributes:e,name:t})=>null===e.label?(0,A.getBlockType)(t).title:e.label,xt={apiVersion:2,
/* translators: block name */
title:(0,S.__)("Multiple Choice (Checkbox)","affiliate-wp"),category:"affiliatewp",parent:["affiliatewp/registration"],icon:kt,attributes:{label:{type:"string",default:"Choose several options"},required:{type:"boolean",default:!1},options:{type:"array",default:[]},defaultValue:{type:"string",default:""},placeholder:{type:"string",default:""},id:{type:"string",default:""}},
/* translators: block description */
description:(0,S.__)("Add several checkbox items.","affiliate-wp"),keywords:["affiliatewp",/* translators: block keyword */
(0,S.__)("option","affiliatewp")],supports:{reusable:!1,html:!1},edit:e=>(0,L.createElement)(dt,{label:vt(e),required:e.attributes.required,options:e.attributes.options,setAttributes:e.setAttributes,type:"checkbox",isSelected:e.isSelected,id:e.attributes.id}),save:()=>null};[e,l,i,n,r,o,s,f,c,_,p,w,h,g,E,b,d,t,u,m,k,y,v,x,C].forEach((({name:e,settings:t})=>{(0,A.registerBlockType)(e,t)}))}()}();