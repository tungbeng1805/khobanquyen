"use strict";AffiliateWPEducation.nonPro=AffiliateWPEducation.nonPro||function(document,window,$){var app={init:function(){$(app.ready)},ready:function(){app.events()},events:function(){app.trackClickEvents(),app.trackSelect2SelectingEvent()},trackSelect2SelectingEvent:function(){$(document).on("select2:selecting",function(e){if($(e.target).hasClass("select2-hidden-accessible")){var selectedOptionClass=e.params.args.data.element.className;selectedOptionClass&&selectedOptionClass.includes("affwp-education-modal")&&(e.preventDefault(),e.stopImmediatePropagation(),app.showUpgradeModal(e.params.args.data.element))}})},trackClickEvents:function(){$(document).on("click",".affwp-education-modal",function(e){e.preventDefault(),e.stopImmediatePropagation(),app.showUpgradeModal(e.target)})},showUpgradeModal:function(targetEl){app.upgradeModal(AffiliateWPEducation.core.getNameValue(targetEl),AffiliateWPEducation.core.getUTMContentValue(targetEl),"pro","")},upgradeModal:function(feature,utmContent,type,video){if("undefined"!=typeof type&&0!==type.length||(type="pro"),!($.inArray(type,["pro","ultimate"])<0)){var message=affiliatewp_education.upgrade[type].message.replace(/%name%/g,feature),isVideoModal=!_.isEmpty(video),modalWidth=AffiliateWPEducation.core.getUpgradeModalWidth(isVideoModal),modal=$.alert({backgroundDismiss:!0,title:feature+" "+affiliatewp_education.upgrade[type].title,icon:"fa fa-lock",content:message,boxWidth:modalWidth,useBootstrap:!1,theme:"modern,affiliatewp-education",closeIcon:!0,onOpenBefore:function(){isVideoModal&&this.$el.addClass("has-video");var videoHtml=isVideoModal?'<iframe src="'+video+'" class="feature-video" frameborder="0" allowfullscreen="" width="475" height="267"></iframe>':"";this.$btnc.after('<div class="discount-note">'+affiliatewp_education.upgrade_bonus+"</div>"),this.$btnc.after(affiliatewp_education.upgrade[type].doc.replace(/%25name%25/g,feature)),this.$btnc.after(videoHtml),this.$body.find(".jconfirm-content").addClass("lite-upgrade")},buttons:{confirm:{text:affiliatewp_education.upgrade[type].button,btnClass:"btn-confirm",keys:["enter"],action:function(){window.open(AffiliateWPEducation.core.getUpgradeURL(utmContent,type),"_blank"),app.upgradeModalThankYou(type)}}}});$(window).on("resize",function(){var modalWidth=AffiliateWPEducation.core.getUpgradeModalWidth(isVideoModal);modal.isOpen()&&modal.setBoxWidth(modalWidth)})}},upgradeModalThankYou:function(type){$.alert({title:affiliatewp_education.thanks_for_interest,content:affiliatewp_education.upgrade[type].modal,icon:"fa fa-info-circle",boxWidth:"565px",useBootstrap:!1,theme:"modern,affiliatewp-education",buttons:{confirm:{text:affiliatewp_education.ok,btnClass:"btn-confirm",keys:["enter"]}}})}};return app}(document,window,jQuery),AffiliateWPEducation.nonPro.init();