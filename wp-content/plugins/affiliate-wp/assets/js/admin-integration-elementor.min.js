"use strict";function _typeof(o){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(obj,key,value){return key=_toPropertyKey(key),key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return"symbol"===_typeof(key)?key:String(key)}function _toPrimitive(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}jQuery(document).ready(function(){!function($){var AffiliateWPIntegration={fields:AffiliateWPElementor.fields,getName:function(){return"affiliatewp"},onElementChange:function(setting){setting.includes("affiliatewp")&&this.updateFieldsMap()},onSectionActive:function(){this.updateFieldsMap()},updateFieldsMap:function(){this.getEditorControlView("affiliatewp_fields_map").updateMap()}},FieldsMap={onBeforeRender:function(){this.$el.hide()},updateMap:function(){var _this=this,savedMapObject={};this.collection.each(function(model){savedMapObject[model.get("remote_id")]=model.get("local_id")}),this.collection.reset();var fieldOptions=this.getFieldOptions();fieldOptions.forEach(function(option,index){var model={remote_id:option.remote_id,remote_label:option.remote_label,remote_type:option.remote_type?option.remote_type:"",remote_required:!!option.remote_required&&option.remote_required,local_id:savedMapObject[option.remote_id]||""};_this.collection.add(model)}),this.render()},getFieldOptions:function(){return elementorPro.modules.forms.affiliatewp.fields},onRender:function(){var _this2=this;this.children.each(function(view,index){var fields=_this2.elementSettingsModel.get("form_fields").models,options={};options[""]="- ".concat(elementor.translate("None")," -"),fields.forEach(function(field){var remoteType=view.model.get("remote_type");if("text"===remoteType||remoteType===field.get("field_type")){var fieldId=field.get("custom_id"),fieldLabel=field.get("field_label");options[fieldId]=fieldLabel}});var localFieldsControl=view.children.last(),label=view.model.get("remote_label");view.model.get("remote_required")&&(label+='<span class="elementor-required">*</span>'),localFieldsControl.model.set("label",label),localFieldsControl.model.set("options",options),localFieldsControl.render(),view.$el.find(".elementor-repeater-row-tools").hide(),view.$el.find(".elementor-repeater-row-controls").removeClass("elementor-repeater-row-controls").find(".elementor-control").css({padding:"10px 0"})}),this.children.length&&this.$el.show(),this.$el.find(".elementor-button-wrapper").remove()}},init=function(){elementor.addControlView("affiliatewp_fields_map",elementor.modules.controls.Fields_map.extend(FieldsMap)),elementorPro.modules.forms.affiliatewp=_objectSpread(_objectSpread({},elementorPro.modules.forms.activecampaign),AffiliateWPIntegration),elementorPro.modules.forms.affiliatewp.addSectionListener("section_affiliatewp",function(){elementorPro.modules.forms.affiliatewp.onSectionActive()})};init()}(jQuery)});