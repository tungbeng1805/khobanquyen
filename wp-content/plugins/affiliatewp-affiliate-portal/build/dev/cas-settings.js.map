{"version":3,"sources":["webpack://AFFWP.portal.[name]/webpack/bootstrap","webpack://AFFWP.portal.[name]/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://AFFWP.portal.[name]/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://AFFWP.portal.[name]/./src/integrations/cas-settings/index.js","webpack://AFFWP.portal.[name]/external [\"AFFWP\",\"portal\",\"portalForm\"]","webpack://AFFWP.portal.[name]/external \"regeneratorRuntime\""],"names":["settings","form","prepareForm","sectionId","originalSlug","showConfirmField","slug","getField","value","resetConfirmations","updateFieldValue","isValidating","removeErrors","Promise","all","validateControl","id","bind","showConfirmDeleteField","isLoading","submitForm","resetSlug","init"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,iH;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,+G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASA,QAAT,GAAoB;AACnB,MAAMC,IAAI,GAAGC,sEAAW,EAAxB;AACA,yCACID,IADJ,GACa;AAEX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGE,aAAS,EAAE,iCAXA;;AAaX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGC,gBAAY,EAAE,EAvBH;;AAyBX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGC,o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","file":"cas-settings.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/integrations/cas-settings/index.js\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * Custom Affiliate Slugs Settings Handler.\n *\n * Works with the settings page template to handle slug validation.\n *\n * @author Alex Standiford\n * @since 1.0.0\n * @global CASSettings\n *\n */\n\n/**\n * Internal Dependencies\n */\nimport prepareForm from '@affiliatewp-portal/portal-form';\n\n/**\n * Custom Affiliate Slugs Settings screen AlpineJS handler.\n *\n * Works with the settings page template to handle slug validation.\n *\n * @since 1.0.0\n * @access public\n * @global CASSettings\n *\n * @returns object The AlpineJS object.\n */\nfunction settings() {\n\tconst form = prepareForm();\n\treturn {\n\t\t...form, ...{\n\n\t\t\t/**\n\t\t\t * Section ID.\n\t\t\t *\n\t\t\t * The section ID that contains the form fields.\n\t\t\t *\n\t\t\t * @since 1.0.0\n\t\t\t *\n\t\t\t * @type {string} The section ID\n\t\t\t */\n\t\t\tsectionId: 'custom-affiliate-slugs-settings',\n\n\t\t\t/**\n\t\t\t * Original Slug\n\t\t\t *\n\t\t\t * The original slug that was provided on page load.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @type string\n\t\t\t */\n\t\t\toriginalSlug: '',\n\n\t\t\t/**\n\t\t\t * Show Confirm Field.\n\t\t\t *\n\t\t\t * Returns true if the confirm setting field should be visible.\n\t\t\t *\n\t\t\t * @since      1.0.0\n\t\t\t * @access     public\n\t\t\t *\n\t\t\t * @returns {boolean} true if visible, otherwise false.\n\t\t\t */\n\t\t\tshowConfirmField() {\n\t\t\t\tconst slug = this.getField( 'custom-affiliate-slug-setting' );\n\n\t\t\t\tif ( false === slug ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( this.originalSlug === slug.value || \"\" === slug.value ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Reset Confirmations.\n\t\t\t *\n\t\t\t * Resets the delete checkbox, the confirm slug, and their validations.\n\t\t\t *\n\t\t\t * @since      1.0.0\n\t\t\t * @access     public\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tasync resetConfirmations() {\n\n\t\t\t\t// Reset confirmation values\n\t\t\t\tthis.updateFieldValue( \"custom-affiliate-slug-confirm-delete\", false );\n\t\t\t\tthis.updateFieldValue( \"custom-affiliate-slug-confirm\", '' );\n\t\t\t\tthis.isValidating = true;\n\n\t\t\t\t// Reset confirmations.\n\t\t\t\tthis.removeErrors( ['custom-affiliate-slug-confirm', 'custom-affiliate-slug-confirm-delete'] )\n\t\t\t\tawait Promise.all( [\n\t\t\t\t\tthis.validateControl( 'custom-affiliate-slug-confirm' ),\n\t\t\t\t\tthis.validateControl( 'custom-affiliate-slug-confirm-delete' )\n\t\t\t\t] );\n\t\t\t\tthis.isValidating = false;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Validate Control.\n\t\t\t *\n\t\t\t * Validates a control by the provided ID, and sets the error if so\n\t\t\t *\n\t\t\t * @since 1.0.0\n\t\t\t * @access public\n\t\t\t * @param {String} id Control ID.\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tasync validateControl( id ) {\n\t\t\t\tconst validateControl = form.validateControl.bind( this );\n\n\t\t\t\tif ( 'custom-affiliate-slug-setting' === id ) {\n\t\t\t\t\tawait this.resetConfirmations();\n\t\t\t\t}\n\n\t\t\t\tvalidateControl( id );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Show Confirm Delete Field.\n\t\t\t *\n\t\t\t * Returns true if the confirm delete setting checkbox should be visible.\n\t\t\t *\n\t\t\t * @since      1.0.0\n\t\t\t * @access     public\n\t\t\t *\n\t\t\t * @returns {boolean} true if visible, otherwise false.\n\t\t\t */\n\t\t\tshowConfirmDeleteField() {\n\t\t\t\tif ( true === this.isLoading ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tconst slug = this.getField( 'custom-affiliate-slug-setting' );\n\n\t\t\t\tif ( false === slug ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( '' === this.originalSlug || \"\" !== slug.value ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Submit Form.\n\t\t\t *\n\t\t\t * Actions that should be taken when the form is submitted.\n\t\t\t *\n\t\t\t * @since      1.0.0\n\t\t\t * @access     public\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tasync submitForm() {\n\t\t\t\tconst submitForm = form.submitForm.bind( this );\n\t\t\t\tawait submitForm();\n\t\t\t\tthis.resetConfirmations();\n\t\t\t\tthis.resetSlug();\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Reset Slug.\n\t\t\t *\n\t\t\t * Resets the original slug value to whatever the current slug setting value is.\n\t\t\t *\n\t\t\t * @since 1.0.0\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tresetSlug() {\n\t\t\t\t// Just after setup is complete, get the field value.\n\t\t\t\tconst slug = this.getField( 'custom-affiliate-slug-setting' );\n\n\t\t\t\tif ( false !== slug ) {\n\t\t\t\t\tthis.originalSlug = slug.value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Init.\n\t\t\t *\n\t\t\t * Fires when this object is set up.\n\t\t\t *\n\t\t\t * @since      1.0.0\n\t\t\t * @access     public\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tasync init() {\n\t\t\t\tconst init = form.init.bind( this );\n\t\t\t\tawait init();\n\t\t\t\tthis.resetSlug();\n\t\t\t}\n\n\t\t}\n\t}\n}\n\nexport default settings;","(function() { module.exports = window[\"AFFWP\"][\"portal\"][\"portalForm\"]; }());","(function() { module.exports = window[\"regeneratorRuntime\"]; }());"],"sourceRoot":""}