{"version":3,"sources":["webpack://AFFWP.portal.[name]/webpack/bootstrap","webpack://AFFWP.portal.[name]/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://AFFWP.portal.[name]/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://AFFWP.portal.[name]/./src/helpers/helpers.js","webpack://AFFWP.portal.[name]/./src/portal-form/portal-form.js","webpack://AFFWP.portal.[name]/external [\"AFFWP\",\"portal\",\"alpineForm\"]","webpack://AFFWP.portal.[name]/external [\"AFFWP\",\"portal\",\"sdk\"]","webpack://AFFWP.portal.[name]/external \"regeneratorRuntime\""],"names":["pause","length","Promise","resolve","setTimeout","trailingslashit","input","endsWith","sectionId","form","isLoading","isValidating","isSubmitting","showingSuccessMessage","exportFields","fields","reduce","acc","field","id","value","hasValidations","getField","validateControl","response","passed","validations","map","validation","removeErrors","addErrors","failed","setupSubmit","hasErrors","setupField","type","setupControl","bind","parentDirectives","parentInput","hasNoDelay","includes","additionalDirectives","event","fieldIndex","findIndex","undefined","validating","window","clearTimeout","submitForm","submitSection","flashSuccessMessage","setupForm","preventDefault","init","portalSectionFields"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,iH;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,+G;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,KAAT,CAAgBC,MAAhB,EAAyB;AACxB,SAAO,IAAIC,OAAJ,CAAa,UAAAC,OAAO;AAAA,WAAIC,UAAU,CAAED,OAAF,EAAWF,MAAX,CAAd;AAAA,GAApB,CAAP;AACA;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASI,eAAT,CAA0BC,KAA1B,EAAkC;AACjC,MAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,CAACC,QAAN,CAAgB,GAAhB,CAAjC,EAAyD;AACxD,WAAOD,KAAP;AACA;;AAED,mBAAUA,KAAV;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACe,yEAAEE,SAAF,EAAiB;AAC/B,yCACIC,sEADJ,GACa;AAEX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGD,aAAS,EAATA,SAZW;;AAcX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGE,aAAS,EAAE,IAxBA;;AA0BX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGC,gBAAY,EAAE,KApCH;;AAsCX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGC,gBAAY,EAAE,KAhDH;;AAkDX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGC,yBAAqB,EAAE,KA5DZ;;AA8DX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGC,gBAxEW,0BAwEI;AACd,aAAO,KAAKC,MAAL,CAAYC,MAAZ,CAAoB,UAAEC,GAAF,EAAOC,KAAP,EAAkB;AAC5CD,WAAG,CAACC,KAAK,CAACC,EAAP,CAAH,GAAgBD,KAAK,CAACE,KAAtB;AACA,eAAOH,GAAP;AACA,OAHM,EAGJ,EAHI,CAAP;AAIA,KA7EU;;AA+EX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACGI,kBA3FW,0BA2FKF,EA3FL,EA2FU;AACpB,UAAMD,KAAK,GAAG,KAAKI,QAAL,CAAeH,EAAf,CAAd;;AACA,UAAK,UAAUD,KAAf,EAAuB;AACtB,eAAO,KAAP;AACA;;AAED,aAAO,SAASA,KAAK,CAACG,cAAtB;AACA,KAlGU;;AAoGX;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACSE,mBAhHK,2BAgHYJ,EAhH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","file":"portal-form.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/portal-form/portal-form.js\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * Helper Functions.\n *\n * Generic helper functions specific to AffilaiteWP Affiliate Portal.\n *\n * @author Alex Standiford\n * @since 1.0.0\n */\n\n/**\n * Pause.\n *\n * Delays script execution for the specified amount of time.\n *\n * @since 1.0.0\n * @param length Amount of time to delay, in milliseconds.\n *\n * @returns {Promise} Resolved promise after specified length\n */\nfunction pause( length ) {\n\treturn new Promise( resolve => setTimeout( resolve, length ) )\n}\n\n/**\n * Adds a trailing slash to the input value, if it does not already have one.\n *\n * @since 1.0.0\n * @param input {string} The value to append a slash.\n *\n * @returns {string} The appended string.\n */\nfunction trailingslashit( input ) {\n\tif( typeof input !== 'string' || input.endsWith( '/' ) ) {\n\t\treturn input;\n\t}\n\n\treturn `${input}/`;\n}\n\nexport { pause, trailingslashit}","/**\n * Form.\n *\n * Works with forms to handle data validation and other form interactions.\n *\n * @author Alex Standiford\n * @since 1.0.0\n * @global form\n *\n */\n\n/**\n * Internal Dependencies\n */\nimport form from '@affiliatewp-portal/alpine-form';\nimport { pause } from \"@affiliatewp-portal/helpers\";\nimport { portalSectionFields, validateControl, submitSection } from '@affiliatewp-portal/sdk';\n\n/**\n * Form handler.\n *\n * Works with forms to handle field validation, and submission.\n *\n * @param {string} sectionId The Section ID from which the fields should be fetched.\n *\n * @since 1.0.0\n * @access private\n * @global form\n *\n * @returns object The form AlpineJS object.\n */\nexport default ( sectionId ) => {\n\treturn {\n\t\t...form, ...{\n\n\t\t\t/**\n\t\t\t * Section ID.\n\t\t\t *\n\t\t\t * The section ID that contains the form fields.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @type {string} The section ID\n\t\t\t */\n\t\t\tsectionId,\n\n\t\t\t/**\n\t\t\t * Is Loading.\n\t\t\t *\n\t\t\t * Set to true if this item is loading.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @type {boolean} True if loading, otherwise false.\n\t\t\t */\n\t\t\tisLoading: true,\n\n\t\t\t/**\n\t\t\t * Is Validating.\n\t\t\t *\n\t\t\t * Set to true if this item is validating fields.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @type {boolean} True if loading, otherwise false.\n\t\t\t */\n\t\t\tisValidating: false,\n\n\t\t\t/**\n\t\t\t * Is Submitting.\n\t\t\t *\n\t\t\t * Set to true if this item is submitting the form.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @type {boolean} True if loading, otherwise false.\n\t\t\t */\n\t\t\tisSubmitting: false,\n\n\t\t\t/**\n\t\t\t * Showing success message.\n\t\t\t *\n\t\t\t * Whether or not the success message is showing (during submission).\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @type boolean\n\t\t\t */\n\t\t\tshowingSuccessMessage: false,\n\n\t\t\t/**\n\t\t\t * Export Fields.\n\t\t\t *\n\t\t\t * Converts Alpine form fields to key => value pairs for REST submissions & validation.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @returns object Object of values keyed by the field ID.\n\t\t\t */\n\t\t\texportFields() {\n\t\t\t\treturn this.fields.reduce( ( acc, field ) => {\n\t\t\t\t\tacc[field.id] = field.value;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, {} );\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Has Validations.\n\t\t\t *\n\t\t\t * Returns true if the specified control has validations.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @param {String} id Control ID.\n\t\t\t *\n\t\t\t * @returns {boolean} True if the field has validations, otherwise false.\n\t\t\t */\n\t\t\thasValidations( id ) {\n\t\t\t\tconst field = this.getField( id );\n\t\t\t\tif ( false === field ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true === field.hasValidations;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Validate Control.\n\t\t\t *\n\t\t\t * Validates a control by the provided ID, and sets the error if so\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @param {String} id Control ID.\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tasync validateControl( id ) {\n\n\t\t\t\t// Bail early if this field has no validations.\n\t\t\t\tif ( false === this.hasValidations( id ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.isValidating = true;\n\n\t\t\t\tconst response = await validateControl( id, this.exportFields() );\n\n\t\t\t\t// Get the passed IDs.\n\t\t\t\tconst passed = response.validations.passed.map( validation => validation.id );\n\n\t\t\t\t// Remove all errors that passed this time\n\t\t\t\tthis.removeErrors( passed );\n\n\t\t\t\t// Add any errors that failed.\n\t\t\t\tthis.addErrors( response.validations.failed );\n\n\t\t\t\tthis.isValidating = false;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Setup Submit.\n\t\t\t *\n\t\t\t * Sets up the default directives for the submit button. Intended to be called using Alpine's x-spread directive.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @returns {object} Directives that should be applied to the submit button by default.\n\t\t\t */\n\t\t\tsetupSubmit() {\n\t\t\t\treturn {\n\t\t\t\t\t['x-bind:disabled']() {\n\t\t\t\t\t\treturn this.hasErrors() || this.isLoading || this.isValidating || this.isSubmitting;\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Default Directives.\n\t\t\t *\n\t\t\t * Sets up the default directives for a field.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @param {string} id The control ID from which directives should be constructed.\n\t\t\t * @param {string} type The input type, such as text, or checkbox.\n\t\t\t *\n\t\t\t * @returns {object} Directives that should be applied to all inputs by default.\n\t\t\t */\n\t\t\tsetupField( id, type = '', value = '' ) {\n\t\t\t\t// Bind the parent function to this instance. this is kind-of like running parent::function() in PHP.\n\t\t\t\tconst setupControl = form.setupField.bind( this );\n\n\t\t\t\t// Get the default directives\n\t\t\t\tconst parentDirectives = setupControl( id, type, value );\n\t\t\t\tconst parentInput = parentDirectives['x-on:input'].bind( this );\n\n\t\t\t\t// A list of validations that should not have an input delay.\n\t\t\t\tconst hasNoDelay = ['checkbox', 'select', 'radio'].includes( type );\n\n\t\t\t\t// AP-specific directives.\n\t\t\t\tconst additionalDirectives = {\n\t\t\t\t\t['x-on:input']( event ) {\n\t\t\t\t\t\tparentInput( event )\n\n\t\t\t\t\t\t// Run field validations.\n\t\t\t\t\t\tif ( hasNoDelay ) {\n\t\t\t\t\t\t\tthis.validateControl( id )\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst fieldIndex = this.fields.findIndex( ( field ) => field.id === id );\n\n\t\t\t\t\t\t\t// Maybe reset the timeout, if it is already set.\n\t\t\t\t\t\t\tif ( undefined !== this.fields[fieldIndex].validating ) {\n\t\t\t\t\t\t\t\twindow.clearTimeout( this.fields[fieldIndex].validating );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.isLoading = true;\n\n\t\t\t\t\t\t\tthis.fields[fieldIndex].validating = window.setTimeout( () => {\n\t\t\t\t\t\t\t\tthis.validateControl( id )\n\t\t\t\t\t\t\t\tdelete this.fields[fieldIndex].validating;\n\t\t\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t\t\t}, 200 )\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t['x-on:blur']() {\n\t\t\t\t\t\tthis.validateControl( id )\n\t\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Spread (combine) the two objects into a single object.\n\t\t\t\treturn { ...parentDirectives, ...additionalDirectives };\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Submit Form.\n\t\t\t *\n\t\t\t * Actions that should be taken when the form is submitted.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tasync submitForm() {\n\t\t\t\tthis.isSubmitting = true;\n\t\t\t\tconst response = await submitSection( this.sectionId, this.exportFields() );\n\t\t\t\t// remove all errors.\n\t\t\t\tthis.removeErrors( response.validations.passed );\n\t\t\t\tthis.addErrors( response.validations.failed );\n\n\t\t\t\tthis.isSubmitting = false;\n\n\t\t\t\tif ( !this.hasErrors() ) {\n\t\t\t\t\tthis.flashSuccessMessage();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Flash Success Message.\n\t\t\t *\n\t\t\t * Flashes the success message.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tasync flashSuccessMessage() {\n\t\t\t\tthis.showingSuccessMessage = true;\n\t\t\t\tawait pause( 1000 );\n\t\t\t\tthis.showingSuccessMessage = false;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets up the form.\n\t\t\t *\n\t\t\t * @since  1.0.0\n\t\t\t * @access public\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tsetupForm() {\n\t\t\t\treturn {\n\t\t\t\t\tasync ['x-on:submit']( event ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.submitForm();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Init.\n\t\t\t *\n\t\t\t * Fires when this object is set up.\n\t\t\t *\n\t\t\t * @since      1.0.0\n\t\t\t * @access     public\n\t\t\t *\n\t\t\t * @returns {Promise<void>}\n\t\t\t */\n\t\t\tasync init() {\n\n\t\t\t\t// simulate a fetch request.\n\t\t\t\tconst response = await portalSectionFields( this.sectionId )\n\n\t\t\t\tthis.fields = response.fields.map( ( field ) => {\n\t\t\t\t\tif ( 'checkbox' === field.type ) {\n\t\t\t\t\t\tif ( 'on' === field.value ) {\n\t\t\t\t\t\t\tfield.value = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( 'off' === field.value ) {\n\t\t\t\t\t\t\tfield.value = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn field;\n\t\t\t\t} );\n\n\t\t\t\tthis.isLoading = false;\n\t\t\t}\n\t\t}\n\t}\n};\n","(function() { module.exports = window[\"AFFWP\"][\"portal\"][\"alpineForm\"]; }());","(function() { module.exports = window[\"AFFWP\"][\"portal\"][\"sdk\"]; }());","(function() { module.exports = window[\"regeneratorRuntime\"]; }());"],"sourceRoot":""}